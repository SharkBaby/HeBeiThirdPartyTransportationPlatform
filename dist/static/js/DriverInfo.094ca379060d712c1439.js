webpackJsonp([28],{BgEd:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("BO1k"),n=t.n(r),i=t("HGcE"),s=t("F+jZ"),l=t("L2rX"),d={name:"DriverInfo",components:{MultiLevelNoTabComponent:i.a},data:function(){return{getDriverDataUrl:l.b.rootUrl+l.b.BaseInfoAPI.GetDriverData,exportCheckManageDataUrl:l.b.rootUrl+l.b.ExportCheckManageData,columnFullScore:{rwl:5,sxl:10,wxpyl:15,gjwzl:40,sjhgl:30,pjcscs:0,pjpjsc:0},columnType:{text:"text",router_link:"router_link"},userInfoSourceData:[],countData:[]}},computed:{tabCtntList:function(){return{currentPage:1,isDriverInfo:!0,total:0,loading:!1,btnEvents:[{iconName:"el-icon-search",btnId:l.b.btnEventsId.search,btnName:"查询",isDisabled:!1,ctrlId:"jbxx_jsygl_cx"}],searchCreteria:[{searchType:"input",labelName:"驾驶员姓名",labelId:l.d.Name,compVal:""}],tabHeader:[{headerKey:"sybid",headerVal:"序号",subHeaders:[]},{headerKey:"Name",headerVal:"姓名",subHeaders:[]},{headerKey:"Sex",headerVal:"性别",subHeaders:[]},{headerKey:"BirthDate",headerVal:"出生日期",subHeaders:[]},{headerKey:"Nature",headerVal:"民族",subHeaders:[]},{headerKey:"IDNumber",headerVal:"身份证",subHeaders:[]},{headerKey:"Education",headerVal:"文化",subHeaders:[]},{headerKey:"Tel",headerVal:"手机号码",subHeaders:[]},{headerKey:"UnitName",headerVal:"所属公司",subHeaders:[]}],TabCtnt:[]}}},methods:{handleClickSearch:function(e){var a=this;s.q.setItem(l.b.ctrlId,"jbxx_jsygl_cx");var t=a.formPageParams(e.searchCreteria,e.currentPage,e.isSplitPage);a.tabCtntList.loading=!0,a.userInfoSourceData=[],s.a.axiosGet(this.getDriverDataUrl,t).then(function(e){if(Object(s.o)(e.data))a.tabCtntList.loading=!1,a.tabCtntList.TabCtnt=[];else{var t=e.data;for(var r in t)a.userInfoSourceData.push(a.pushSourceData(parseInt(r)+1,t[r]));a.tabCtntList.TabCtnt=a.userInfoSourceData,a.tabCtntList.loading=!1,a.tabCtntList.total=e.data.CountTotal,a.tabCtntList.btnEvents[1].isDisabled=!1}}).catch(function(e){a.$message.error(Object(s.l)(e))})},pushSourceData:function(e,a){return{sybid:e,Name:a.Name,Sex:a.Sex,BirthDate:a.BirthDate,Nature:a.Nature,IDNumber:a.IDNumber,Education:a.Education,Tel:a.Tel,UnitName:a.UnitName}},handleClickExpData:function(e){var a=this;a.tabCtntList.loading=!0;var t=a.formPageParams(e.searchCreteria,e.currentPage,e.isSplitPage);s.a.axiosGet(this.exportCheckManageDataUrl,t).then(function(e){a.downloadServerFile(decodeURIComponent(e.data)),a.tabCtntList.loading=!1}).catch(function(e){a.$message.error(Object(s.l)(e))})},formPageParams:function(e,a,t){var r="",i=!0,s=!1,d=void 0;try{for(var o,c=n()(e);!(i=(o=c.next()).done);i=!0){var u=o.value;switch(u.labelId){case l.d.Name:r=u.compVal}}}catch(e){s=!0,d=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw d}}return{driverName:r,pageSize:10,pageIndex:a,isSplitPage:t,readPage:""}},handleCurrentChange:function(e){this.handleClickSearch(e)},downloadServerFile:function(e){var a=document.createElement("a");a.href=e,a.click()},handleEditBtn:function(e){this.$message({message:e,type:"warning"})},handleAddEvent:function(e){this.$message({message:e+"恭喜你，点击了增加事件，目前该功能正在马不停蹄开发中，敬请期待",type:"warning"})}},beforeMount:function(){var e=JSON.parse(s.q.getItem("breadNavs"));this.$emit("viewIn",e)}},o={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"driver-info"},[a("multi-level-no-tab-component",{staticClass:"driver-info-multilevel",attrs:{tabCtntList:this.tabCtntList},on:{handleClickSearch:this.handleClickSearch,handleClickExpData:this.handleClickExpData,handleCurrentChange:this.handleCurrentChange,handleEditBtn:this.handleEditBtn,handleAddEvent:this.handleAddEvent}})],1)},staticRenderFns:[]};var c=t("VU/8")(d,o,!1,function(e){t("eB0x")},null,null);a.default=c.exports},eB0x:function(e,a){}});
//# sourceMappingURL=DriverInfo.094ca379060d712c1439.js.map