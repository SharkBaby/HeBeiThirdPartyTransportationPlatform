webpackJsonp([25],{"9gNs":function(e,a){},Nm9u:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("BO1k"),r=t.n(l),o=t("lP3S"),n=t("F+jZ"),d=t("L2rX"),i=t("KXKr"),c={name:"AlarmDeal",components:{MultiLevelTableComponent:o.a},data:function(){return{activeName:"report_alarmdeal_zone_table",activeNameIndex:0,curNameIndex:0,getAlarmDealReportsUrl:d.b.rootUrl+d.b.ReportAPI.GetAlarmDealReports,exportAlarmDealReportsUrl:d.b.rootUrl+d.b.ReportAPI.ExportAlarmDealReports,columnType:{text:"text",router_link:"router_link"},zoneCheckSourceData:[],countData:[],tabNameObj:{firTab:{tabLabel:"地区汇总",tabName:"report_alarmdeal_zone_table",nType:1,ctrlId:"tjfx_wzcltj_dqhz"},secTab:{tabLabel:"企业汇总",tabName:"report_alarmdeal_company_table",nType:2,ctrlId:"tjfx_wzcltj_qyhz"},thiTab:{tabLabel:"车辆汇总",tabName:"report_alarmdeal_vehicle_table",nType:3,ctrlId:"tjfx_wzcltj_clhz"},fouTab:{tabLabel:"违章处理明细",tabName:"report_alarmdeal_detail_table",nType:4,ctrlId:"tjfx_wzcltj_wzclmx"}},tabCtntList:[]}},methods:{handleClickSearch:function(e){var a=this;a.curNameIndex=a.activeNameIndex,n.q.setItem(d.b.ctrlId,e.ctrlId);var t=a.formPageParams(e.searchCreteria,e.currentPage,e.activeName,e.isSplitPage);a.tabCtntList[a.curNameIndex].loading=!0,a.alarmDealSourceData=[],n.a.axiosGet(this.getAlarmDealReportsUrl,t).then(function(t){a.isDisabled=!1,a.isDisabled=!0;var l=t.data.DetailList,o=!0,d=!1,i=void 0;try{for(var c,s=r()(l);!(o=(c=s.next()).done);o=!0){var m=c.value;a.alarmDealSourceData.push(a.pushSourceData(m,e.activeName,"DetailList"))}}catch(e){d=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw i}}a.tabCtntList[a.curNameIndex].TabCtnt=a.alarmDealSourceData,a.tabCtntList[a.curNameIndex].total=t.data.CountTotal,a.tabCtntList[a.curNameIndex].loading=!1,a.tabCtntList[a.curNameIndex].btnEvents[1].isDisabled=!1,Object(n.o)(t.data.TotalList)||a.tabCtntList[a.curNameIndex].TabCtnt.push(a.pushSourceData(t.data.TotalList,e.activeName,"TotalList"))}).catch(function(e){a.$message({type:"warning",message:Object(n.l)(e)}),a.tabCtntList[a.curNameIndex].loading=!1})},pushSourceData:function(e,a,t){switch(a){case this.tabNameObj.firTab.tabName:return{sybid:e.sybid,ZName:e.ZName,OverSpeedCNT:e.OverSpeedCNT,OverSpeedDealResult:e.OverSpeedDealResult,OverSpeedDealRate:e.OverSpeedDealRate,AbnormalCNT:e.AbnormalCNT,AbnormalDealResult:e.AbnormalDealResult,AbnormalDealRate:e.AbnormalDealRate,HoursDriveCNT:e.HoursDriveCNT,HoursDriveDealResult:e.HoursDriveDealResult,HoursDriveDealRate:e.HoursDriveDealRate,TotalCNT:e.TotalCNT,TotalDeal:e.TotalDeal,TotalDealRate:e.TotalDealRate};case this.tabNameObj.secTab.tabName:return{sybid:e.sybid,ZName:e.ZName,UnitName:e.UnitName,OverSpeedCNT:e.OverSpeedCNT,OverSpeedDealResult:e.OverSpeedDealResult,OverSpeedDealRate:e.OverSpeedDealRate,AbnormalCNT:e.AbnormalCNT,AbnormalDealResult:e.AbnormalDealResult,AbnormalDealRate:e.AbnormalDealRate,HoursDriveCNT:e.HoursDriveCNT,HoursDriveDealResult:e.HoursDriveDealResult,HoursDriveDealRate:e.HoursDriveDealRate,TotalCNT:e.TotalCNT,TotalDeal:e.TotalDeal,TotalDealRate:e.TotalDealRate};case this.tabNameObj.thiTab.tabName:return{sybid:e.sybid,LicensePlat:e.LicensePlat,ZName:e.ZName,UnitName:e.UnitName,PlatformName:e.PlatformName,VehicleType:e.VehicleType,OverSpeedCNT:e.OverSpeedCNT,OverSpeedDealResult:e.OverSpeedDealResult,OverSpeedDealRate:e.OverSpeedDealRate,AbnormalCNT:e.AbnormalCNT,AbnormalDealResult:e.AbnormalDealResult,AbnormalDealRate:e.AbnormalDealRate,HoursDriveCNT:e.HoursDriveCNT,HoursDriveDealResult:e.HoursDriveDealResult,HoursDriveDealRate:e.HoursDriveDealRate,TotalCNT:e.TotalCNT,TotalDeal:e.TotalDeal,TotalDealRate:e.TotalDealRate};case this.tabNameObj.fouTab.tabName:return{sybid:e.sybid,LicensePlat:e.LicensePlat,ZName:e.ZName,CityName:e.CityName,UnitName:e.UnitName,PlatformName:e.PlatformName,VehicleType:e.VehicleType,AlarType:e.AlarType,BTime:e.BTime,ETime:e.ETime,Duration:e.Duration,BLocation:e.BLocation,ELocation:e.ELocation,SLevel:e.SLevel,DealResult:e.DealResult}}},handleClickExpData:function(e){var a=this;a.curNameIndex=a.activeNameIndex,n.q.setItem(d.b.ctrlId,e.ctrlId);var t=a.formPageParams(e.searchCreteria,e.currentPage,e.activeName,e.isSplitPage);a.tabCtntList[a.curNameIndex].loading=!0,n.a.axiosGet(this.exportAlarmDealReportsUrl,t).then(function(e){a.isDisabled=!1,a.downloadServerFile(decodeURIComponent(e.data)),a.tabCtntList[a.curNameIndex].loading=!1}).catch(function(e){a.$message({type:"warning",message:Object(n.l)(e)}),a.tabCtntList[a.curNameIndex].loading=!1})},formPageParams:function(e,a,t,l){var o=0,n="",i="",c=0,s="",m="",u="",b="",h=!0,p=!1,y=void 0;try{for(var T,N=r()(this.tabCtntList);!(h=(T=N.next()).done);h=!0){var D=T.value;D.tabName===t&&(this.activeNameIndex=D.indexNumber,o=D.nType)}}catch(e){p=!0,y=e}finally{try{!h&&N.return&&N.return()}finally{if(p)throw y}}var v=!0,C=!1,I=void 0;try{for(var x,V=r()(e);!(v=(x=V.next()).done);v=!0){var f=x.value;switch(f.labelId){case d.d.ZoneId:n=f.compId;break;case d.d.PlatformId:i=f.compId;break;case d.d.CarType:c=f.compVal;break;case d.d.fromTodatePicker:s=f.compVal[0],m=f.compVal[1];break;case d.d.UnitId:u=f.compId;break;case d.d.VehicleId:b=f.compId}}}catch(e){C=!0,I=e}finally{try{!v&&V.return&&V.return()}finally{if(C)throw I}}return{nType:o,zoneId:n,platformId:i,carType:c,beginDate:s,endDate:m,unitId:u,vehicleId:b,pageSize:10,pageIndex:a,isSplitPage:l,readPage:""}},handleCurrentChange:function(e){this.handleClickSearch(e)},downloadServerFile:function(e){var a=document.createElement("a");a.href=e,a.click()},loadAccess:function(){var e=JSON.parse(n.q.getItem("accessList")),a=[{tabLabel:this.tabNameObj.firTab.tabLabel,tabName:this.tabNameObj.firTab.tabName,ctrlId:this.tabNameObj.firTab.ctrlId,indexNumber:"",nType:this.tabNameObj.firTab.nType,currentPage:1,total:0,loading:!1,btnEvents:[{iconName:"el-icon-search",btnId:"search",btnName:"查询",isDisabled:!1,ctrlId:"tjfx_wzcltj_dqhz_cx"},{iconName:"el-icon-download",btnId:"export_data",btnName:"导出数据",isDisabled:!0,ctrlId:"tjfx_wzcltj_dqhz_dc"}],searchCreteria:[{searchType:"input",labelName:"所属地区",labelId:d.d.ZoneId,compVal:d.c.provinceName,compId:d.c.provinceId},{searchType:"input",labelName:"接入平台",labelId:d.d.PlatformId,compVal:"",compId:""},{searchType:"treeCheckbox",labelName:"车辆类型",labelId:d.d.CarType,compVal:"",treeOps:d.a,treeChkboxProps:{label:"label",chidlren:"children"}},{searchType:"fromTodatePicker",labelName:"时间起 - 时间至",labelId:d.d.fromTodatePicker,compVal:[((new Date).format("yyyyMMdd")-1).toString(),((new Date).format("yyyyMMdd")-1).toString()]}],tabHeader:[{headerKey:"sybid",headerVal:"序号",subHeaders:[],columnType:this.columnType.text},{headerKey:"ZName",headerVal:"地区",subHeaders:[],columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{labelName:"超速",subHeaders:[{headerKey:"OverSpeedCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"OverSpeedDealResult",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"OverSpeedDealRate",headerVal:"处理率",columnType:this.columnType.text}]},{labelName:"凌晨2-5点异动",subHeaders:[{headerKey:"AbnormalCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"AbnormalDealResult",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"AbnormalDealRate",headerVal:"处理率",columnType:this.columnType.text}]},{labelName:"疲劳驾驶",subHeaders:[{headerKey:"HoursDriveCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"HoursDriveDealResult",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"HoursDriveDealRate",headerVal:"处理率",columnType:this.columnType.text}]},{labelName:"合计",subHeaders:[{headerKey:"TotalCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"TotalDeal",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"TotalDealRate",headerVal:"处理率",columnType:this.columnType.text}]}],TabCtnt:[]},{tabLabel:this.tabNameObj.secTab.tabLabel,tabName:this.tabNameObj.secTab.tabName,ctrlId:this.tabNameObj.secTab.ctrlId,indexNumber:"",nType:this.tabNameObj.secTab.nType,currentPage:1,total:0,loading:!1,btnEvents:[{iconName:"el-icon-search",btnId:"search",btnName:"查询",isDisabled:!1,ctrlId:"tjfx_wzcltj_qyhz_cx"},{iconName:"el-icon-download",btnId:"export_data",btnName:"导出数据",isDisabled:!0,ctrlId:"tjfx_wzcltj_qyhz_dc"}],searchCreteria:[{searchType:"input",labelName:"所属地区",labelId:d.d.ZoneId,compVal:d.c.provinceName,compId:d.c.provinceId},{searchType:"input",labelName:"运输企业",labelId:d.d.UnitId,compVal:"",compId:""},{searchType:"input",labelName:"接入平台",labelId:d.d.PlatformId,compVal:"",compId:""},{searchType:"treeCheckbox",labelName:"车辆类型",labelId:d.d.CarType,compVal:"",treeOps:d.a,treeChkboxProps:{label:"label",chidlren:"children"}},{searchType:"fromTodatePicker",labelName:"时间起 - 时间至",labelId:d.d.fromTodatePicker,compVal:[((new Date).format("yyyyMMdd")-1).toString(),((new Date).format("yyyyMMdd")-1).toString()]}],tabHeader:[{headerKey:"sybid",headerVal:"序号",subHeaders:[],columnType:this.columnType.text},{headerKey:"ZName",headerVal:"地区",subHeaders:[],columnType:this.columnType.text},{headerKey:"UnitName",headerVal:"企业",subHeaders:[],columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{labelName:"超速",subHeaders:[{headerKey:"OverSpeedCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"OverSpeedDealResult",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"OverSpeedDealRate",headerVal:"处理率",columnType:this.columnType.text}]},{labelName:"凌晨2-5点异动",subHeaders:[{headerKey:"AbnormalCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"AbnormalDealResult",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"AbnormalDealRate",headerVal:"处理率",columnType:this.columnType.text}]},{labelName:"疲劳驾驶",subHeaders:[{headerKey:"HoursDriveCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"HoursDriveDealResult",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"HoursDriveDealRate",headerVal:"处理率",columnType:this.columnType.text}]},{labelName:"合计",subHeaders:[{headerKey:"TotalCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"TotalDeal",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"TotalDealRate",headerVal:"处理率",columnType:this.columnType.text}]}],TabCtnt:[]},{tabLabel:this.tabNameObj.thiTab.tabLabel,tabName:this.tabNameObj.thiTab.tabName,ctrlId:this.tabNameObj.thiTab.ctrlId,indexNumber:"",nType:this.tabNameObj.thiTab.nType,currentPage:1,total:0,loading:!1,btnEvents:[{iconName:"el-icon-search",btnId:"search",btnName:"查询",isDisabled:!1,ctrlId:"tjfx_wzcltj_clhz_cx"},{iconName:"el-icon-download",btnId:"export_data",btnName:"导出数据",isDisabled:!0,ctrlId:"tjfx_wzcltj_clhz_dc"}],searchCreteria:[{searchType:"input",labelName:"车牌号",labelId:d.d.VehicleId,compVal:"",compId:""},{searchType:"input",labelName:"所属地区",labelId:d.d.ZoneId,compVal:d.c.provinceName,compId:d.c.provinceId},{searchType:"input",labelName:"运输企业",labelId:d.d.UnitId,compVal:"",compId:""},{searchType:"input",labelName:"接入平台",labelId:d.d.PlatformId,compVal:"",compId:""},{searchType:"treeCheckbox",labelName:"车辆类型",labelId:d.d.CarType,compVal:"",treeOps:d.a,treeChkboxProps:{label:"label",chidlren:"children"}},{searchType:"fromTodatePicker",labelName:"时间起 - 时间至",labelId:d.d.fromTodatePicker,compVal:[((new Date).format("yyyyMMdd")-1).toString(),((new Date).format("yyyyMMdd")-1).toString()]}],tabHeader:[{headerKey:"sybid",headerVal:"序号",subHeaders:[],columnType:this.columnType.text},{headerKey:"LicensePlat",headerVal:"车牌号",subHeaders:[],columnType:this.columnType.text},{headerKey:"ZName",headerVal:"地区",subHeaders:[],columnType:this.columnType.text},{headerKey:"UnitName",headerVal:"企业",subHeaders:[],columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"PlatformName",headerVal:"接入平台",subHeaders:[],columnType:this.columnType.text},{headerKey:"VehicleType",headerVal:"车辆类型",subHeaders:[],columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{labelName:"超速",subHeaders:[{headerKey:"OverSpeedCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"OverSpeedDealResult",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"OverSpeedDealRate",headerVal:"处理率",columnType:this.columnType.text}]},{labelName:"凌晨2-5点异动",subHeaders:[{headerKey:"AbnormalCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"AbnormalDealResult",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"AbnormalDealRate",headerVal:"处理率",columnType:this.columnType.text}]},{labelName:"疲劳驾驶",subHeaders:[{headerKey:"HoursDriveCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"HoursDriveDealResult",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"HoursDriveDealRate",headerVal:"处理率",columnType:this.columnType.text}]},{labelName:"合计",subHeaders:[{headerKey:"TotalCNT",headerVal:"违章次数",columnType:this.columnType.text},{headerKey:"TotalDeal",headerVal:"处理次数",columnType:this.columnType.router_link,router_link:d.b.routerConst.ProviderCheckDetail},{headerKey:"TotalDealRate",headerVal:"处理率",columnType:this.columnType.text}]}],TabCtnt:[]},{tabLabel:this.tabNameObj.fouTab.tabLabel,tabName:this.tabNameObj.fouTab.tabName,ctrlId:this.tabNameObj.fouTab.ctrlId,indexNumber:"",nType:this.tabNameObj.fouTab.nType,currentPage:1,total:0,loading:!1,btnEvents:[{iconName:"el-icon-search",btnId:"search",btnName:"查询",isDisabled:!1,ctrlId:"tjfx_wzcltj_wzclmx_cx"},{iconName:"el-icon-download",btnId:"export_data",btnName:"导出数据",isDisabled:!0,ctrlId:"tjfx_wzcltj_wzclmx_dc"}],searchCreteria:[{searchType:"input",labelName:"车牌号",labelId:d.d.VehicleId,compVal:"",compId:""},{searchType:"input",labelName:"所属地区",labelId:d.d.ZoneId,compVal:d.c.provinceName,compId:d.c.provinceId},{searchType:"input",labelName:"运输企业",labelId:d.d.UnitId,compVal:"",compId:""},{searchType:"input",labelName:"接入平台",labelId:d.d.PlatformId,compVal:"",compId:""},{searchType:"treeCheckbox",labelName:"车辆类型",labelId:d.d.CarType,compVal:"",treeOps:d.a,treeChkboxProps:{label:"label",chidlren:"children"}},{searchType:"select",labelName:"违章类型",compVal:0,options:[{value:0,label:"全部"},{value:2,label:"超速"},{value:3,label:"疲劳驾驶"},{value:10,label:"凌晨2-5点异动"}]},{searchType:"fromTodatePicker",labelName:"时间起 - 时间至",labelId:d.d.fromTodatePicker,compVal:[((new Date).format("yyyyMMdd")-1).toString(),((new Date).format("yyyyMMdd")-1).toString()]},{searchType:"select",labelName:"是否处理",compVal:0,options:[{value:0,label:"全部"},{value:1,label:"已处理"},{value:2,label:"未处理"}]}],tabHeader:[{headerKey:"sybid",headerVal:"序号",subHeaders:[],columnType:this.columnType.text},{headerKey:"LicensePlat",headerVal:"车牌号",subHeaders:[],columnType:this.columnType.text},{headerKey:"ZName",headerVal:"地区",subHeaders:[],columnType:this.columnType.text},{headerKey:"CityName",headerVal:"企业所属市(州)",subHeaders:[],columnType:this.columnType.text},{headerKey:"UnitName",headerVal:"企业",subHeaders:[],columnType:this.columnType.text},{headerKey:"PlatformName",headerVal:"接入平台",subHeaders:[],columnType:this.columnType.text},{headerKey:"VehicleType",headerVal:"车辆类型",subHeaders:[],columnType:this.columnType.text},{headerKey:"AlarType",headerVal:"违章类型",subHeaders:[],columnType:this.columnType.text},{headerKey:"BTime",headerVal:"违章开始时间",subHeaders:[],columnType:this.columnType.text},{headerKey:"ETime",headerVal:"违章结束时间",subHeaders:[],columnType:this.columnType.text},{headerKey:"Duration",headerVal:"持续时长",subHeaders:[],columnType:this.columnType.text},{headerKey:"BLocation",headerVal:"开始位置",subHeaders:[],columnType:this.columnType.text},{headerKey:"ELocation",headerVal:"结束位置",subHeaders:[],columnType:this.columnType.text},{headerKey:"SLevel",headerVal:"违章严重程度",subHeaders:[],columnType:this.columnType.text},{headerKey:"DealResult",headerVal:"是否处理",subHeaders:[],columnType:this.columnType.text}],TabCtnt:[]}],t=0,l=!0,o=!1,c=void 0;try{for(var s,m=r()(a);!(l=(s=m.next()).done);l=!0){var u=s.value;Object(i.a)(u.ctrlId,e)&&(u.indexNumber=t,this.tabCtntList.push(u),t++)}}catch(e){o=!0,c=e}finally{try{!l&&m.return&&m.return()}finally{if(o)throw c}}},handleCurActiveIndex:function(e){this.activeNameIndex=e}},created:function(){this.loadAccess()},beforeMount:function(){var e=JSON.parse(n.q.getItem("breadNavs"));this.$emit("viewIn",e)}},s={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"AlarmDeal"},[a("multi-level-table-component",{staticClass:"zone-check-multilevel",attrs:{activeName:this.activeName,tabCtntList:this.tabCtntList},on:{handleClickSearch:this.handleClickSearch,handleClickExpData:this.handleClickExpData,handleCurrentChange:this.handleCurrentChange,handleCurActiveIndex:this.handleCurActiveIndex}})],1)},staticRenderFns:[]};var m=t("VU/8")(c,s,!1,function(e){t("9gNs")},null,null);a.default=m.exports}});
//# sourceMappingURL=AlarmDeal.f890ea933c10b5a3805f.js.map