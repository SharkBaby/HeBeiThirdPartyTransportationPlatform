{"version":3,"sources":["webpack:///src/VehicleDistribution/VehicleDistributionIndex.vue","webpack:///./src/VehicleDistribution/VehicleDistributionIndex.vue?a967","webpack:///./src/VehicleDistribution/VehicleDistributionIndex.vue"],"names":["VehicleDistributionIndex","PieComponent","SecurityCtntMap","SingleChkboxComponent","_impVhcleDetail","GetVehicleSpreadData","GetVehicleList","impVhcleDetail","defineProperty_default","titleName","seriesdata","mapData","sourceData","allVehicleData","tabCtnt","initVehicleDistribution","this","then","response","data","_iteratorNormalCompletion","tempSDItem","_step","value","ZoneName","VehicleCnt","tempSourceData","self","VehicleAllCnt","vhcleItem","_step2","Rate","toFixed","CBusTotalCount","TourTotalCount","LineTotalCount","DTotalCount","HeavyTotalCount","TractorTotalCount","catch","error","message","VhcleCount","_iteratorNormalCompletion3","increaseItem","_step3","_iteratorNormalCompletion4","_increaseItem","_step4","CurrnetVhcleCount","increaseVal","_iteratorNormalCompletion5","_increaseItem2","_step5","_iteratorNormalCompletion6","decreaseItem","_step6","_vhcleItem","decreaseVal","common","axiosGet","getVehicleListUrl","_iteratorNormalCompletion7","impVhcleItem","_step7","LicensePlat","DeviceID","getGetVehicleDetailUrl","VehicleID","PlateColor","VehicleType","UnitName","LogicUnitName","ProviderName","getAutoDataListUrl","toString","_iteratorNormalCompletion8","preSearchItem","_step8","Name","Value","vehicleId","breadNavs","VehicleDistribution_VehicleDistributionIndex","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","xs","sm","md","lg","xl","pieEcharts","_v","mapType","mapItem","on","handleVhcleLeft","handleVhcleRight","type","tab-click","handleTabClick","directives","name","rawName","accessId","expression","label","_l","vhcleKey","key","change","$event","handleVhcleType","model","callback","$$v","$set","_s","labelName","ref","staticStyle","width","tabCtntList","TabCtnt","highlight-current-row","max-height","default-sort","prop","order","row-class-name","header-cell-class-name","tabHeaderItem","tabHeaderKey","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/VehicleDistribution.6b1d77e1ed62f5c87e6e.js","sourcesContent":["<template>\r\n  <el-row class=\"vehicleDistribution\">\r\n    <!-- 元饼图 -->\r\n    <el-col :xs=\"24\" :sm=\"12\" :md=\"4\" :lg=\"4\" :xl=\"4\" class=\"vehicle-col-left\">\r\n      <el-row class=\"vehicle-col-left-pie\">\r\n        <pie-component :pieEcharts=\"pieEcharts\"></pie-component>\r\n      </el-row>\r\n    </el-col>\r\n    <!-- 地图 -->\r\n    <el-col :xs=\"24\" :sm=\"12\" :md=\"9\" :lg=\"9\" :xl=\"9\" class=\"vehicle-col-center\">\r\n      <security-ctnt-map :mapType=\"mapType\" :mapItem=\"mapItem\" v-on:handleVhcleLeft=\"handleVhcleLeft\" v-on:handleVhcleRight=\"handleVhcleRight\"></security-ctnt-map>\r\n    </el-col>\r\n    <!-- 车辆信息 -->\r\n    <el-col :xs=\"24\" :sm=\"24\" :md=\"10\" :lg=\"10\" :xl=\"10\" class=\"vehicle-col-right\">\r\n      <el-tabs type=\"border-card\" @tab-click=\"handleTabClick\">\r\n        <el-tab-pane label=\"全部车辆\" v-hasAccess=\"{accessId: 'home_clfb_qbcl'}\">\r\n          <el-row class=\"chkbox-all-vehicle\">\r\n            <el-checkbox v-model=\"vhcleItem.compVal\" v-for=\"(vhcleItem, vhcleKey) of vhcleRslt\" :key=\"vhcleKey\" @change=\"handleVhcleType(vhcleKey)\">{{vhcleItem.labelName}}</el-checkbox>\r\n          </el-row>\r\n          <el-table \r\n          ref=\"singleTable\"\r\n          :data=\"tabCtntList.TabCtnt\"\r\n          highlight-current-row\r\n          max-height=\"900\"\r\n          style=\"width: 100%\" \r\n          :default-sort=\"{prop: 'date', order: 'descending'}\"\r\n          row-class-name=\"table-body-row-class-name\"\r\n          header-cell-class-name=\"table-cell-class-name\"\r\n          class=\"multi-level-no-table\">\r\n            <el-table-column :prop=\"tabHeaderKey\" :label=\"tabHeaderItem\" v-for=\"(tabHeaderItem,tabHeaderKey) in tabCtntList.tabHeader\" :key=\"tabHeaderKey\">\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-tab-pane>\r\n        <!--注释人：向浩\r\n        注释时间：2018-08-12\r\n        注释原因：暂时隐藏掉重点车辆功能\r\n        -->\r\n        <!-- <el-tab-pane label=\"重点车辆\" v-hasAccess=\"{accessId: 'home_clfb_zdcl'}\">\r\n          <el-row :class=\"impVehicles.operationStyle\">\r\n            <el-input placeholder=\"请输入内容\" v-model=\"impVehicles.inputCtnt.inputName\" class=\"important-vehicle\" @change=\"changePreSearch(impVehicles.inputCtnt.inputName)\">\r\n              <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"handleSearch(impVehicles.inputCtnt.vehicleId)\"></el-button>\r\n            </el-input>\r\n            <el-row class=\"pre-search\">\r\n              <el-row class=\"pre-search-item\" v-for=\"(preSearchItem, preSearchKey) of impVehicles.preSearchItems\" :key=\"preSearchKey\">\r\n                <label @mouseup=\"handlePreSearchSelect(preSearchItem.Value, preSearchItem.Name)\">{{preSearchItem.Name}}</label>\r\n              </el-row>\r\n            </el-row>\r\n            <el-row class=\"important-vehicle-button\">\r\n              <el-button type=\"primary\" plain v-for=\"(impVhcleItem, impVhcleKey) of impVehicles.impItems\" :key=\"impVhcleKey\" @click=\"handleImpClick(impVhcleItem.VehicleID)\">{{impVhcleItem.name}}</el-button>\r\n            </el-row>\r\n          </el-row>\r\n          <el-row :class=\"['vehicle-distribution-right-vehicle-detail', impVehicles.detailStyle]\">\r\n            <el-row class=\"vehicle-distribution-vehicle-photo\">\r\n              <el-row></el-row>\r\n              <el-button type=\"primary\" plain class=\"license-plat\">{{impVehicles.impVhcleDetail.LicensePlat}}</el-button>\r\n            </el-row>\r\n            <el-row class=\"vehicle-distribution-vehicle-license\">\r\n              <el-row class=\"vehicle-distribution-detail-title\">\r\n                <label>行驶证信息</label>\r\n              </el-row>\r\n              <el-row class=\"vehicle-distribution-detail-item\">\r\n                <label>车牌号：</label>\r\n                <label name=\"LicensePlat\">{{impVehicles.impVhcleDetail.LicensePlat}}</label>\r\n              </el-row>\r\n              <el-row class=\"vehicle-distribution-detail-item\">\r\n                <label>车牌颜色：</label>\r\n                <label name=\"PlateColor\">{{impVehicles.impVhcleDetail.PlateColor}}</label>\r\n              </el-row>\r\n              <el-row class=\"vehicle-distribution-detail-item\">\r\n                <label>车辆类型：</label>\r\n                <label name=\"VehicleType\">{{impVehicles.impVhcleDetail.VehicleType}}</label>\r\n              </el-row>\r\n            </el-row>\r\n            <el-row class=\"vehicle-distribution-vehicle-license\">\r\n              <el-row class=\"vehicle-distribution-detail-title\">\r\n                <label>道路运输证信息</label>\r\n              </el-row>\r\n              <el-row class=\"vehicle-distribution-detail-item\">\r\n                <label>所属企业：</label>\r\n                <label name=\"UnitName\">{{impVehicles.impVhcleDetail.UnitName}}</label>\r\n              </el-row>\r\n              <el-row class=\"vehicle-distribution-detail-item\">\r\n                <label>所属地区：</label>\r\n                <label name=\"ZName\">{{impVehicles.impVhcleDetail.ZName}}</label>\r\n              </el-row>\r\n              <el-row class=\"vehicle-distribution-detail-item\">\r\n                <label>所属运政：</label>\r\n                <label name=\"LogicUnitName\">{{impVehicles.impVhcleDetail.LogicUnitName}}</label>\r\n              </el-row>\r\n            </el-row>\r\n            <el-row class=\"vehicle-distribution-vehicle-license\">\r\n              <el-row class=\"vehicle-distribution-detail-title\">\r\n                <label>车辆入网终端字信息</label>\r\n              </el-row>\r\n              <el-row class=\"vehicle-distribution-detail-item\">\r\n                <label>所属服务商：</label>\r\n                <label name=\"ProviderName\">{{impVehicles.impVhcleDetail.ProviderName}}</label>\r\n              </el-row>\r\n              <el-row class=\"vehicle-distribution-detail-item\">\r\n                <label>终端型号：</label>\r\n                <label>暂无</label>\r\n              </el-row>\r\n              <el-row class=\"vehicle-distribution-detail-item\">\r\n                <label>终端主要功能：</label>\r\n                <label>暂无</label>\r\n              </el-row>\r\n            </el-row>\r\n            <el-row class=\"vehicle-distribution-vehicle-license\">\r\n              <label class=\"vehicle-distribution-icon vehicle-distribution-synchronous\" @mouseup=\"handleSynchronous\"></label>\r\n              <label class=\"vehicle-distribution-icon vehicle-distribution-synchronous-return\" @mouseup=\"handleReturn\"></label>\r\n            </el-row>\r\n          </el-row>\r\n        </el-tab-pane> -->\r\n      </el-tabs>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<style type=\"text/css\" src=\"./vehicleDistributionIndex.css\">\r\n</style>\r\n\r\n<script>\r\nimport PieComponent from \"@/components/PieComponent/PieComponent\";\r\nimport SecurityCtntMap from \"@/components/SecurityContent/SecurityCtntMap/SecurityCtntMap\";\r\nimport SingleChkboxComponent from \"@/components/SingleChkboxComponent/SingleChkboxComponent\";\r\nimport { axiosRequest, storageOperation, handleErrorMsg } from \"@/common/common\";\r\nimport { commonConfig } from \"@/config/commonConfig\";\r\nexport default {\r\n  name: \"VehicleDistribution\",\r\n  components: {\r\n    PieComponent,\r\n    SecurityCtntMap,\r\n    SingleChkboxComponent\r\n  },\r\n  data() {\r\n    return {\r\n      getVehicleSpreadDataUrl: commonConfig.rootUrl + commonConfig.VehicleDistributionAPI.GetVehicleSpreadData,\r\n      getVehicleListUrl: commonConfig.rootUrl + commonConfig.VehicleDistributionAPI.GetVehicleList,\r\n      getGetVehicleDetailUrl: commonConfig.rootUrl + commonConfig.VehicleDistributionAPI.GetVehicleDetail, //获取单个重点车辆的详细信息\r\n      getAutoDataListUrl: commonConfig.rootUrl + commonConfig.GetAutoDataList, // 通用接口 - 预搜索\r\n      pieRslt: [],\r\n      mapType: \"河北\",\r\n      mapData: [],\r\n      sourceData: [], //地图显示的数据\r\n      allVehicleData: [], //存储每一个市的所有信息，以便在鼠标mouseover上会有数据\r\n      vhcleRslt: [\r\n        {\r\n          labelName: \"包车客车\",\r\n          keyVal: [\"CBusTotalCount\"],\r\n          compVal: true\r\n        },\r\n        {\r\n          labelName: \"旅游客车\",\r\n          keyVal: [\"TourTotalCount\"],\r\n          compVal: true\r\n        },\r\n        {\r\n          labelName: \"三类以上班线客车\",\r\n          keyVal: [\"LineTotalCount\"],\r\n          compVal: true\r\n        },\r\n        {\r\n          labelName: \"危险品车\",\r\n          keyVal: [\"DTotalCount\"],\r\n          compVal: true\r\n        },\r\n        {\r\n          labelName: \"重货、半挂牵引车\",\r\n          keyVal: [\"HeavyTotalCount\", \"TractorTotalCount\"],\r\n          compVal: true\r\n        }\r\n      ],\r\n      VehicleAllCnt: 0, // 获得当前省份或者地区的所有入网车辆\r\n      tabCtnt: [],\r\n      // 重点车辆数据\r\n      impVehicles: {\r\n        operationStyle: \"\",\r\n        detailStyle: \"hide-important-part\",\r\n        inputCtnt: {\r\n          inputName: \"\",\r\n          vehicleId: \"\"\r\n        },\r\n        preSearchItems: [], //存储预搜索的返回结果\r\n        impItems: [],\r\n        impVhcleDetail: {\r\n          LicensePlat: \"\",\r\n          PlateColor: \"\",\r\n          VehicleType: \"\",\r\n          VehicleType: \"\",\r\n          UnitName: \"\",\r\n          LogicUnitName: \"\",\r\n          ProviderName: \"\"\r\n        }\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    pieEcharts: function() {\r\n      return {\r\n        routerLink: \"\",\r\n        titleName: this.pieRslt.titleName,\r\n        titleX: '50%',\r\n        titleY: 'center',\r\n        idName: \"platform-top-left\",\r\n        color: [\"#f8143a\", \"#8effff\", \"#3882ec\", \"#0056c0\", \"#F18F51\"],\r\n        // data: ['包车客车', '旅游客车', '重货、半挂牵引车', '三类班线客车', '危险品车'],\r\n        data: [],\r\n        legendOrient: 'horizontal',\r\n        legendX: 'center',\r\n        legendY: 'top',\r\n        seriesRadius: ['45%', '70%'],\r\n        seriesName: \"车辆分布\",\r\n        seriesdata: this.pieRslt.seriesdata\r\n        // seriesdata: [{\r\n        //     value: 93,\r\n        //     name: '包车客车'\r\n        //   },\r\n        //   {\r\n        //     value: 0,\r\n        //     name: '旅游客车'\r\n        //   }, {\r\n        //     value: 0,\r\n        //     name: '重货、半挂牵引车'\r\n        //   },\r\n        //   {\r\n        //     value: 463,\r\n        //     name: '三类班线客车'\r\n        //   }, {\r\n        //     value: 333,\r\n        //     name: '危险品车'\r\n        //   }\r\n        // ]\r\n      };\r\n    },\r\n    mapItem: function() {\r\n      return {\r\n        chart_map: {\r\n          data: this.mapData\r\n          // data: [{\r\n          //   name: \"河北省\",\r\n          //   value: 0\r\n          // }, {\r\n          //   name: \"长沙市\",\r\n          //   value: 0\r\n          // }, {\r\n          //   name: \"株洲市\",\r\n          //   value: 0\r\n          // }, {\r\n          //   name: \"湘潭市\",\r\n          //   value: 0\r\n          // }, {\r\n          //   name: \"衡阳市\",\r\n          //   value: 0\r\n          // }, {\r\n          //   name: \"邵阳市\",\r\n          //   value: 0\r\n          // }, {\r\n          //   name: \"岳阳市\",\r\n          //   value: 0\r\n          // }]\r\n        },\r\n        seriesData: [\r\n            {\r\n              name: \"车辆分布\",\r\n              type: \"map\",\r\n              mapType: \"河北\", //sessionStorage.zoneName\r\n              // geoCoord: geoCoord,\r\n              mapLocation: {\r\n                y: \"20\"\r\n              },\r\n              itemStyle: {\r\n                normal: {\r\n                  label: {\r\n                    show: true,\r\n                    textStyle: {\r\n                      color: \"#FFF\",\r\n                      fontFamily: \"Microsoft YaHei\"\r\n                    },\r\n                    formatter: \"{b}\"\r\n                  },\r\n                  areaColor: \"rgb(43,61,78)\",\r\n                  borderColor: \"rgb(228,230,231)\",\r\n                  borderWidth: 0.5,\r\n                  areaStyle: {\r\n                    color: \"rgb(43,61,78)\"\r\n                  }\r\n                },\r\n                emphasis: {\r\n                  label: {\r\n                    show: true,\r\n                    textStyle: {\r\n                      //color: 'yellow',\r\n                      color: \"#2FFFFF\",\r\n                      fontFamily: \"Microsoft YaHei\"\r\n                    }\r\n                    // formatter: function(name, value) {\r\n                    //   //\"{a}:{b}\"\r\n                    //   var res = \"\";\r\n                    //   if (name.length > 5) {\r\n                    //     res = name.substr(0, 4) + \"\\n\" + name.substr(4);\r\n                    //     return res + \":\" + value;\r\n                    //   }\r\n                    //   return name + \":\" + value;\r\n                    // }\r\n                  },\r\n                  color: \"#1A2C36\",\r\n                  areaColor: \"rgb(26,44,54)\",\r\n                  borderColor: \"#FFF\",\r\n                  borderWidth: 1\r\n                }\r\n              },\r\n              hoverable: true,\r\n              data: this.sourceData\r\n            }\r\n          ],\r\n        mapType: \"VehicleDistibution\", // 这个参数会在地图组建中区分是来自于哪一个页面的调用，从而处理不同的逻辑\r\n        allVehicleData: this.allVehicleData\r\n      };\r\n    },\r\n    tabCtntList: function() {\r\n      return {\r\n        tabHeader: {\r\n          ZName: \"地区\",\r\n          Rate: \"入网车辆占全省车辆比重\",\r\n          VhcleCount: \"车辆总数\"\r\n        },\r\n        TabCtnt: this.tabCtnt\r\n        // TabCtnt: [{\r\n        //   ZName: '河北省',\r\n        //   Rate: '0.34%',\r\n        //   VhcleCount: '97'\r\n        // }, {\r\n        //   ZName: '长沙市',\r\n        //   Rate: '21.66%',\r\n        //   VhcleCount: '6091'\r\n        // }, {\r\n        //   ZName: '株洲市',\r\n        //   Rate: '5.77%',\r\n        //   VhcleCount: '1631'\r\n        // }, {\r\n        //   ZName: '湘潭市',\r\n        //   Rate: '2.98%',\r\n        //   VhcleCount: '839'\r\n        // }, {\r\n        //   ZName: '衡阳市',\r\n        //   Rate: '8.14%',\r\n        //   VhcleCount: '2290'\r\n        // }, {\r\n        //   ZName: '邵阳市',\r\n        //   Rate: '4.94%',\r\n        //   VhcleCount: '1389'\r\n        // }]\r\n      };\r\n    }\r\n  },\r\n  mounted: function() {\r\n    this.initVehicleDistribution();\r\n  },\r\n  methods: {\r\n    initVehicleDistribution: function() {\r\n      storageOperation.setItem(commonConfig.ctrlId, 'home_clfb_qbcl'); //将需要请求的ctrlId在每次请求的时候更新到sessionStorage中，以便于在发请求的时候需要带上\r\n      const self = this;\r\n      axiosRequest.axiosGet(this.getVehicleSpreadDataUrl, {\r\n          zoneId: 0,\r\n          vehicleType: 0\r\n        })\r\n        .then(function(response) {\r\n          /**\r\n             * CBusTotalCount\r\n            :\r\n            128\r\n            DTotalCount\r\n            :\r\n            226\r\n            HeavyTotalCount\r\n            :\r\n            0\r\n            LineTotalCount\r\n            :\r\n            446\r\n            TourTotalCount\r\n            :\r\n            0\r\n            TractorTotalCount\r\n            :\r\n            0\r\n            VehicleCnt\r\n            :\r\n            800\r\n            ZoneID\r\n            :\r\n            43030000\r\n            ZoneName\r\n            :\r\n            \"湘潭市\"\r\n             */\r\n          self.allVehicleData = response.data;\r\n          const tempSourceData = [];\r\n          for(let tempSDItem of response.data){\r\n            tempSourceData.push({\r\n              name: tempSDItem.ZoneName,\r\n              value: tempSDItem.VehicleCnt,\r\n            })\r\n          }\r\n          self.sourceData = tempSourceData;\r\n          if (response.data[0].VehicleCnt !== 0)\r\n            self.VehicleAllCnt = response.data[0].VehicleCnt; // 获得当前省份或者地区的所有入网车辆\r\n          for (let vhcleItem of response.data) {\r\n            self.mapData.push({\r\n              name: vhcleItem.ZoneName,\r\n              value: vhcleItem.VehicleCnt\r\n            }); //中间地图的数据加载\r\n            self.tabCtnt.push({\r\n              ZName: vhcleItem.ZoneName,\r\n              Rate:\r\n                self.VehicleAllCnt == 0\r\n                  ? \"0.00\"\r\n                  : (vhcleItem.VehicleCnt / self.VehicleAllCnt * 100).toFixed(\r\n                      2\r\n                    ) + \"%\",\r\n              VhcleCount: vhcleItem.VehicleCnt,\r\n              CurrnetVhcleCount: vhcleItem.VehicleCnt, //这是一个临时变量来保存当前勾选筛选框后的总量\r\n              CBusTotalCount: vhcleItem.CBusTotalCount,\r\n              TourTotalCount: vhcleItem.TourTotalCount,\r\n              LineTotalCount: vhcleItem.LineTotalCount,\r\n              DTotalCount: vhcleItem.DTotalCount,\r\n              HeavyTotalCount: vhcleItem.HeavyTotalCount,\r\n              TractorTotalCount: vhcleItem.TractorTotalCount\r\n            }); //右边初始加载的城市数据\r\n          }\r\n        })\r\n        .catch(function(error) {});\r\n    },\r\n    handleVhcleLeft: function(message) {\r\n      this.pieRslt = message;\r\n    },\r\n    handleVhcleRight: function(message) {\r\n      this.tabCtnt = message;\r\n      this.VehicleAllCnt = this.tabCtnt[0].VhcleCount;\r\n    },\r\n    handleVhcleType: function(vhcleKey) {\r\n      if (this.vhcleRslt[vhcleKey].compVal) {\r\n        //勾选相应的车型\r\n        for (let increaseItem of this.vhcleRslt[vhcleKey].keyVal) {\r\n          //获得需要加上的数目\r\n          this.VehicleAllCnt += this.tabCtnt[0][increaseItem];\r\n        }\r\n        for (let vhcleItem in this.tabCtnt) {\r\n          let increaseVal = 0;\r\n\r\n          for (let increaseItem of this.vhcleRslt[vhcleKey].keyVal) {\r\n            //获得需要加上的数目\r\n            increaseVal += this.tabCtnt[vhcleItem][increaseItem];\r\n          }\r\n          this.tabCtnt[vhcleItem].CurrnetVhcleCount =\r\n            this.tabCtnt[vhcleItem].CurrnetVhcleCount + increaseVal;\r\n          this.tabCtnt[vhcleItem].Rate =\r\n            this.VehicleAllCnt == 0\r\n              ? \"0.00\"\r\n              : (\r\n                  this.tabCtnt[vhcleItem].CurrnetVhcleCount /\r\n                  this.VehicleAllCnt *\r\n                  100\r\n                ).toFixed(2) + \"%\";\r\n        }\r\n      } else {\r\n        //取消勾选相应的车型\r\n        for (let increaseItem of this.vhcleRslt[vhcleKey].keyVal) {\r\n          //获得需要加上的数目\r\n          this.VehicleAllCnt -= this.tabCtnt[0][increaseItem];\r\n        }\r\n        for (let vhcleItem in this.tabCtnt) {\r\n          let decreaseVal = 0;\r\n          for (let decreaseItem of this.vhcleRslt[vhcleKey].keyVal) {\r\n            //获得需要减去的数目\r\n            decreaseVal += this.tabCtnt[vhcleItem][decreaseItem];\r\n          }\r\n          this.tabCtnt[vhcleItem].CurrnetVhcleCount =\r\n            this.tabCtnt[vhcleItem].CurrnetVhcleCount - decreaseVal;\r\n          this.tabCtnt[vhcleItem].Rate =\r\n            this.VehicleAllCnt == 0\r\n              ? \"0.00\"\r\n              : (\r\n                  this.tabCtnt[vhcleItem].CurrnetVhcleCount /\r\n                  this.VehicleAllCnt *\r\n                  100\r\n                ).toFixed(2) + \"%\";\r\n        }\r\n      }\r\n    },\r\n    // 处理tab 点击事件\r\n    handleTabClick: function(tab, event) {\r\n      if (tab.index == 1) this.GetVehicleList();\r\n    },\r\n    // 重点车辆\r\n    GetVehicleList: function() {\r\n      const self = this;\r\n      storageOperation.setItem(commonConfig.ctrlId, 'home_clfb_zdcl'); //将需要请求的ctrlId在每次请求的时候更新到sessionStorage中，以便于在发请求的时候需要带上\r\n      self.impVehicles.impItems = []; //注意在每次调用获取重点车辆前需要清空数据\r\n      axiosRequest\r\n        .axiosGet(this.getVehicleListUrl, {\r\n          zoneId: 0,\r\n          vehicleId: 0\r\n        })\r\n        .then(function(response) {\r\n          /**\r\n             * AbnormalCNT\r\n              :\r\n              0\r\n              DeviceID\r\n              :\r\n              3401\r\n              HoursDriveCNT\r\n              :\r\n              0\r\n              LicensePlat\r\n              :\r\n              \"湘B07228黄\"\r\n              OverSpeedCNT\r\n              :\r\n              2\r\n              TotalCNT\r\n              :\r\n              2\r\n              UnitName\r\n              :\r\n              \"株洲天润汽车运输有限公司\"\r\n              ZName\r\n              :\r\n              \"市辖区\"\r\n             */\r\n          for (let impVhcleItem of response.data) {\r\n            self.impVehicles.impItems.push({\r\n              name: impVhcleItem.LicensePlat,\r\n              VehicleID: impVhcleItem.DeviceID\r\n            });\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          self.$message({\r\n            type: 'warning',\r\n            message: handleErrorMsg(error)\r\n          })\r\n        });\r\n    },\r\n    // 重点单个车辆Click事件\r\n    handleImpClick: function(VehicleID) {\r\n      const self = this;\r\n      storageOperation.setItem(commonConfig.ctrlId, ''); //将需要请求的ctrlId在每次请求的时候更新到sessionStorage中，以便于在发请求的时候需要带上\r\n      self.impVehicles.operationStyle = \"hide-important-part\";\r\n      self.impVehicles.detailStyle = \"\";\r\n      axiosRequest\r\n        .axiosGet(this.getGetVehicleDetailUrl, {\r\n          VehicleID\r\n        })\r\n        .then(function(response) {\r\n          /**\r\n             * DeviceID\r\n              :\r\n              3401\r\n              Gpspa\r\n              :\r\n              null\r\n              LicensePlat\r\n              :\r\n              \"湘B07228\"\r\n              LogicUnitName\r\n              :\r\n              \"市辖区运管所\"\r\n              Optional\r\n              :\r\n              null\r\n              PlateColor\r\n              :\r\n              \"黄\"\r\n              ProviderName\r\n              :\r\n              null\r\n              UnitName\r\n              :\r\n              \"株洲天润汽车运输有限公司\"\r\n              Vediopa\r\n              :\r\n              null\r\n              VehicleType\r\n              :\r\n              \"危险品运输车\"\r\n              ZName\r\n              :\r\n              \"市辖区\"\r\n             */\r\n          const impVhcleTemp = response.data;\r\n          self.impVehicles.impVhcleDetail = {\r\n            LicensePlat: impVhcleTemp.LicensePlat,\r\n            PlateColor: impVhcleTemp.PlateColor,\r\n            VehicleType: impVhcleTemp.VehicleType,\r\n            UnitName: impVhcleTemp.UnitName,\r\n            LogicUnitName: impVhcleTemp.LogicUnitName,\r\n            ProviderName: impVhcleTemp.ProviderName\r\n          };\r\n        })\r\n        .catch(function(error) {});\r\n    },\r\n    // 单击返回按钮\r\n    handleReturn: function() {\r\n      this.impVehicles.operationStyle = \"\";\r\n      this.impVehicles.detailStyle = \"hide-important-part\";\r\n    },\r\n    // 单击同步按钮\r\n    handleSynchronous: function() {\r\n      this.$message({\r\n        message:\r\n          \"服务未连接成功，此功能无法使用（注：重构项目中此功能还未开发）\",\r\n        type: \"warning\"\r\n      });\r\n    },\r\n    // 车辆预搜索功能\r\n    changePreSearch: function(inputCtnt) {\r\n      const self = this;\r\n      storageOperation.setItem(commonConfig.ctrlId, ''); //将需要请求的ctrlId在每次请求的时候更新到sessionStorage中，以便于在发请求的时候需要带上\r\n      this.impVehicles.preSearchItems = [];\r\n      axiosRequest\r\n        .axiosGet(this.getAutoDataListUrl, {\r\n          type: 3, // 参数详细设置请参考commonConfig.js的说明\r\n          text: inputCtnt.toString(),\r\n          zoneId: 0,\r\n          queryType: 0\r\n        })\r\n        .then(function(response) {\r\n          /**\r\n             * Id\r\n            :\r\n            24357\r\n            Name\r\n            :\r\n            \"湘F22501|黄\"\r\n            UnitName\r\n            :\r\n            \"岳阳永昌物流有限公司\"\r\n            Value\r\n            :\r\n            24357\r\n             */\r\n          for (let preSearchItem of response.data) {\r\n            self.impVehicles.preSearchItems.push({\r\n              Name: preSearchItem.Name,\r\n              Value: preSearchItem.Value\r\n            });\r\n          }\r\n        })\r\n        .catch(function(error) {});\r\n    },\r\n    //从预搜索中选择结果\r\n    handlePreSearchSelect: function(Value, Name) {\r\n      //1. 清除预搜索数据\r\n      this.impVehicles.preSearchItems = [];\r\n      //2. 填充到当前输入框\r\n      this.impVehicles.inputCtnt.inputName = Name;\r\n      this.impVehicles.inputCtnt.vehicleId = Value;\r\n    },\r\n    // 单击查询按钮\r\n    handleSearch: function(vehicleId) {\r\n      this.handleImpClick(vehicleId);\r\n    }\r\n  },\r\n  created: function() {\r\n    const breadNavs = JSON.parse(storageOperation.getItem(\"breadNavs\"));\r\n    this.$emit(\"viewIn\", breadNavs);\r\n  }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/VehicleDistribution/VehicleDistributionIndex.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"vehicleDistribution\"},[_c('el-col',{staticClass:\"vehicle-col-left\",attrs:{\"xs\":24,\"sm\":12,\"md\":4,\"lg\":4,\"xl\":4}},[_c('el-row',{staticClass:\"vehicle-col-left-pie\"},[_c('pie-component',{attrs:{\"pieEcharts\":_vm.pieEcharts}})],1)],1),_vm._v(\" \"),_c('el-col',{staticClass:\"vehicle-col-center\",attrs:{\"xs\":24,\"sm\":12,\"md\":9,\"lg\":9,\"xl\":9}},[_c('security-ctnt-map',{attrs:{\"mapType\":_vm.mapType,\"mapItem\":_vm.mapItem},on:{\"handleVhcleLeft\":_vm.handleVhcleLeft,\"handleVhcleRight\":_vm.handleVhcleRight}})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"vehicle-col-right\",attrs:{\"xs\":24,\"sm\":24,\"md\":10,\"lg\":10,\"xl\":10}},[_c('el-tabs',{attrs:{\"type\":\"border-card\"},on:{\"tab-click\":_vm.handleTabClick}},[_c('el-tab-pane',{directives:[{name:\"hasAccess\",rawName:\"v-hasAccess\",value:({accessId: 'home_clfb_qbcl'}),expression:\"{accessId: 'home_clfb_qbcl'}\"}],attrs:{\"label\":\"全部车辆\"}},[_c('el-row',{staticClass:\"chkbox-all-vehicle\"},_vm._l((_vm.vhcleRslt),function(vhcleItem,vhcleKey){return _c('el-checkbox',{key:vhcleKey,on:{\"change\":function($event){_vm.handleVhcleType(vhcleKey)}},model:{value:(vhcleItem.compVal),callback:function ($$v) {_vm.$set(vhcleItem, \"compVal\", $$v)},expression:\"vhcleItem.compVal\"}},[_vm._v(_vm._s(vhcleItem.labelName))])})),_vm._v(\" \"),_c('el-table',{ref:\"singleTable\",staticClass:\"multi-level-no-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tabCtntList.TabCtnt,\"highlight-current-row\":\"\",\"max-height\":\"900\",\"default-sort\":{prop: 'date', order: 'descending'},\"row-class-name\":\"table-body-row-class-name\",\"header-cell-class-name\":\"table-cell-class-name\"}},_vm._l((_vm.tabCtntList.tabHeader),function(tabHeaderItem,tabHeaderKey){return _c('el-table-column',{key:tabHeaderKey,attrs:{\"prop\":tabHeaderKey,\"label\":tabHeaderItem}})}))],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c1913918\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/VehicleDistribution/VehicleDistributionIndex.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1913918\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!./vehicleDistributionIndex.css\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./VehicleDistributionIndex.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./VehicleDistributionIndex.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1913918\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VehicleDistributionIndex.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/VehicleDistribution/VehicleDistributionIndex.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}