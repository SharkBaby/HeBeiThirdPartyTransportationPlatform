webpackJsonp([4],{"0eQi":function(t,e){},"2F4e":function(t,e){},"7Tms":function(t,e){},Amca:function(t,e){},ElHe:function(t,e){},G16f:function(t,e){},"M+ef":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("BO1k"),o=a.n(s),r={name:"PlatformComponentsTopleft",props:["platformTopLeftList","pieEcharts"],components:{PieComponent:a("ZBWu").a},data:function(){return{iconClass:"platform-content-checksentry-out"}},methods:{hoverShow:function(){this.iconClass="platform-content-checksentry-hover"},outShow:function(){this.iconClass="platform-content-checksentry-out"}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"platformComponentsTopleft"},[a("el-col",{staticClass:"platform-top-left-col",attrs:{span:12}},[a("p",{staticClass:"platfom-title-font"},[t._v(t._s(t.platformTopLeftList.title))]),t._v(" "),a("div",{staticClass:"platfrom-content-linksituation"},[a("ul",{staticClass:"platfrom_link_list"},t._l(t.platformTopLeftList.items,function(e,s){return a("li",{key:s,attrs:{title:e.titleName}},[a("div",{class:["platform-link-left",e.connectStatus]}),t._v(" "),a("div",{staticClass:"platform-link-arrow"}),t._v(" "),a("label",{staticClass:"platfrom-content-link-name"},[t._v(t._s(e.linkName))]),t._v(" "),a("span",[a("label",[t._v(t._s(e.titleName))])])])}))])]),t._v(" "),a("el-col",{staticClass:"platform-top-right-col",attrs:{span:12}},[a("el-row",{staticClass:"platform-title"},[a("router-link",{class:["platform-content-checksentry-basic",t.iconClass],attrs:{to:t.pieEcharts.routerLink},on:{mouseover:function(e){t.hoverShow()},mouseout:function(e){t.outShow()}}})],1),t._v(" "),a("el-row",{staticClass:"platform-body"},[a("pie-component",{attrs:{pieEcharts:t.pieEcharts}})],1)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(r,i,!1,function(t){a("vApT")},null,null).exports,l=a("XLwt"),c={name:"basicLineChartComponent",props:["basicLineChartRslt"],components:{},data:function(){return{basicLineRslt:this.basicLineChartRslt}},watch:{basicLineChartRslt:function(t){this.basicLineRslt=t,this.drawLine()}},mounted:function(){this.drawLine()},methods:{drawLine:function(){var t=l.init(document.getElementById(this.basicLineRslt.idName)),e={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:this.basicLineRslt.legenddata},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:{name:"时间",type:"category",data:this.basicLineRslt.xAxisdata,boundaryGap:!1,nameTextStyle:{color:"#FFF"},nameLocation:"start",axisPointer:{type:"shadow"},splitLine:{show:!0,lineStyle:{color:"#6F7983"}},axisLine:{lineStyle:{color:"#6F7983"}},axisLabel:{textStyle:{color:"#fff"}}},yAxis:{type:"value",name:"数据量",nameTextStyle:{color:"#FFF"},splitLine:{show:!0,lineStyle:{color:"#6F7983"}},axisLabel:{show:!1},axisLine:{lineStyle:{color:"#6F7983"}}},series:this.basicLineRslt.seriesdata};t.setOption(e)}}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"basicLineChartComponent"},[e("div",{staticClass:"basiclineComponent-Echarts",attrs:{id:this.basicLineRslt.idName}})])},staticRenderFns:[]};var f=a("VU/8")(c,m,!1,function(t){a("7Tms")},null,null).exports,h={name:"piePlatformComponent",props:["piePlatformEcharts"],data:function(){return{piePlatformRslt:this.piePlatformEcharts}},watch:{piePlatformEcharts:function(t){this.piePlatformRslt=t,this.drawPieItem()}},mounted:function(){this.drawPieItem()},methods:{drawPieItem:function(){var t=l.init(document.getElementById(this.piePlatformRslt.idName)),e={title:{text:this.piePlatformRslt.unAlarmCNT,x:"center",y:.52*document.getElementById(this.piePlatformRslt.idName).offsetHeight,textStyle:{color:"#fff",fontSize:10,fontWeight:"lighter"}},legend:{orient:"horizontal",y:"5%",textStyle:{color:"#FFF"},data:[{name:"定位",icon:"rectangle"},{name:"未报警",icon:"rectangle"},{name:"报警",icon:"rectangle"}],selectedMode:!1},tooltip:{trigger:"item",formatter:"未报警总数 : {d}% ({c})"},color:["#8DFFFF","#02F4F5","#FF2122"],calculable:!1,grid:{backgroundColor:"rgba(0,0,0,0)",borderWidth:0,x:"25%",x2:"25%",y:"40%",y2:"30%"},xAxis:[{type:"category",boundaryGap:!1,show:!1,data:["占位","一","二","三","四","五","六","日","占位"]}],yAxis:[{type:"value",boundaryGap:[0,0],show:!1,max:200}],animation:!1,series:[{name:"定位",type:"pie",clickable:!1,clockWise:!0,radius:["72%","75%"],center:["50%","50%"],funnelAlign:"left",data:[{value:this.piePlatformRslt.locationCNT,name:"定位"}],itemStyle:{normal:{labelLine:{show:!0,lineStyle:{type:"dashed"},length:5},label:{position:"inner",textStyle:{color:"#FFF",fontFamily:"Microsoft YaHei",fontSize:14},formatter:"{c}",distance:.6}}}},{name:"未报警",type:"pie",clickable:!1,clockWise:!0,radius:["0%","0%"],center:["50%","50%"],data:[{value:0,name:"未报警"}],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}}},{name:"报警",type:"pie",clickable:!1,clockWise:!0,radius:["0%","0%"],center:["50%","50%"],data:[{value:this.piePlatformRslt.alarmCNT,name:"报警"}],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}}},{name:"",type:"line",symbol:"none",showAllSymbol:!0,smooth:!0,itemStyle:{normal:{areaStyle:{type:"default"}}},data:[120,130,140,144,151,170,140,120,120],tooltip:{show:!1}},{name:"边框",type:"pie",clickable:!1,clockWise:!0,radius:["49%","50%"],center:["50%","50%"],data:[{value:1,name:"边框"}],itemStyle:{normal:{color:"#8DFFFF",label:{show:!1},labelLine:{show:!1}}}}]};t.setOption(e)}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-row",{staticClass:"piePlatformComponent"},[e("div",{staticClass:"piePlatformComponent-Echarts",attrs:{id:this.piePlatformRslt.idName}}),this._v(" "),e("p",{staticClass:"platform-alarm-count"},[e("label",[this._v(this._s(this.piePlatformRslt.alarmCNT))])])])},staticRenderFns:[]};var u=a("VU/8")(h,p,!1,function(t){a("G16f")},null,null).exports,d=a("F+jZ"),C=a("L2rX"),v={name:"platformComponentTopright",props:["platformTopRightList"],components:{BasicLineChart:f,PiePlatformComponent:u},data:function(){return{getPlatformAlarmLinePieUrl:C.b.rootUrl+C.b.GetPlatformAlarmLinePie,xAxisdata:[],seriesdata0:[],seriesdata1:[],titleText:"",locationCNT:"",alarmCNT:"",unAlarmCNT:""}},computed:{topRightChartRslt:function(){return{idName:"platform-top-right-basicline",legenddata:[],xAxisdata:this.xAxisdata,seriesdata:[{name:"报警",type:"line",data:this.seriesdata0,smooth:!0,lineStyle:{color:"rgb(189,48,78)"}},{name:"定位",type:"line",data:this.seriesdata1,smooth:!0,lineStyle:{color:"rgb(140,251,252)"}}]}},topRightPiePlatformRslt:function(){return{idName:"platform-top-right-pie",titleText:this.titleText,locationCNT:this.locationCNT,alarmCNT:this.alarmCNT,unAlarmCNT:this.unAlarmCNT}}},mounted:function(){this.GetPlatformAlarmLinePie()},methods:{GetPlatformAlarmLinePie:function(){var t=this;d.q.setItem(C.b.ctrlId,""),d.a.axiosGet(this.getPlatformAlarmLinePieUrl).then(function(e){var a={hour:[],alarm:[],location:[],locationCNT:0,alarmCNT:0,unAlarmCNT:0},s=!0,r=!1,i=void 0;try{for(var n,l=o()(e.data);!(s=(n=l.next()).done);s=!0){var c=n.value;c.AlarmCNT||(c.AlarmCNT=0),c.PlocCnt||(c.PlocCnt=0),c.UNAarmCNT||(c.UNAarmCNT=0),a.hour.push(c.Hour),a.alarm.push(100*c.AlarmCNT),a.location.push(c.PlocCnt),a.locationCNT+=c.PlocCnt,a.alarmCNT+=c.AlarmCNT,a.unAlarmCNT+=c.UNAarmCNT}}catch(t){r=!0,i=t}finally{try{!s&&l.return&&l.return()}finally{if(r)throw i}}t.xAxisdata=a.hour,t.seriesdata0=a.alarm,t.seriesdata1=a.location,t.titleText=a.unAlarmCNT,t.locationCNT=a.locationCNT,t.alarmCNT=a.alarmCNT,t.unAlarmCNT=a.alarmCNT}).catch()}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-row",{staticClass:"platformComponentTopright"},[e("p",{staticClass:"platfom-title-font"},[this._v(this._s(this.platformTopRightList.title))]),this._v(" "),e("el-col",{staticClass:"topright-col",attrs:{span:15}},[e("basic-line-chart",{attrs:{basicLineChartRslt:this.topRightChartRslt}})],1),this._v(" "),e("el-col",{staticClass:"topright-col",attrs:{span:9}},[e("pie-platform-component",{attrs:{piePlatformEcharts:this.topRightPiePlatformRslt}})],1)],1)},staticRenderFns:[]};var k=a("VU/8")(v,b,!1,function(t){a("0eQi")},null,null).exports,g={name:"platformComponentBottomleft",props:["platformBottomLeftList"],components:{BasicBarChartComponent:a("xcLt").a},data:function(){return{getPlatformBaseInfoUrl:C.b.rootUrl+C.b.GetPlatformBaseInfo,baseInfoData:{xAxisData:[],series0Data:[],series1Data:[],displayAllItems:"",clickClass:""},xAxisData:[],series0Data:[],series1Data:[],changeBaseInfoFlag:!1,itemStyle:{normal:{label:{show:!0,textStyle:{color:"#fff",fontFamily:"Microsoft YaHei",fontSize:14}}}}}},computed:{bottomLeftChartRslt:function(){return{idName:"platform-bottom-left",xAxisData:this.xAxisData,seriesdata:[{name:"两客一危入网数",type:"bar",data:this.series0Data,itemStyle:this.itemStyle},{name:"重货入网数",type:"bar",data:this.series1Data,itemStyle:this.itemStyle}],displayAllItems:this.baseInfoData.displayAllItems,legend:{orient:"horizontal",x:"right",y:"top",data:["两客一危入网数","重货入网数"],textStyle:{color:"#fff"}}}}},mounted:function(){this.GetPlatformBaseInfo()},methods:{GetPlatformBaseInfo:function(){var t=this;d.q.setItem(C.b.ctrlId,""),d.a.axiosGet(this.getPlatformBaseInfoUrl).then(function(e){var a=[],s=!0,r=!1,i=void 0;try{for(var n,l=o()(e.data);!(s=(n=l.next()).done);s=!0){var c=n.value;a.push({name:Object(d.j)(c.ShortName,4),carCnt:c.CARCNT,truckCnt:c.TruckCNT,total:c.CARCNT+c.TruckCNT})}}catch(t){r=!0,i=t}finally{try{!s&&l.return&&l.return()}finally{if(r)throw i}}a.sort(function(t,e){return e.total-t.total});var m=!0,f=!1,h=void 0;try{for(var p,u=o()(a);!(m=(p=u.next()).done);m=!0){var C=p.value;t.baseInfoData.xAxisData.push(C.name),t.baseInfoData.series0Data.push(C.carCnt),t.baseInfoData.series1Data.push(C.truckCnt)}}catch(t){f=!0,h=t}finally{try{!m&&u.return&&u.return()}finally{if(f)throw h}}t.changeBaseInfoItems()}).catch()},changeBaseInfoItems:function(){this.changeBaseInfoFlag||this.baseInfoData.xAxisData.length<=5?(this.xAxisData=this.baseInfoData.xAxisData,this.series0Data=this.baseInfoData.series0Data,this.series1Data=this.baseInfoData.series1Data,this.baseInfoData.displayAllItems=""):(this.xAxisData=this.baseInfoData.xAxisData.slice(0,4),this.xAxisData.push("其他"),this.series0Data=Object(d.k)(4,this.baseInfoData.series0Data),this.series1Data=Object(d.k)(4,this.baseInfoData.series1Data),this.baseInfoData.displayAllItems="displayAllItems"),this.changeBaseInfoFlag=!this.changeBaseInfoFlag,"platfom-baseinfo-more-click"!=this.baseInfoData.clickClass?this.baseInfoData.clickClass="platfom-baseinfo-more-click":this.baseInfoData.clickClass="platfom-baseinfo-more-toggleclick",this.changeBaseInfoFlag||(this.baseInfoData.clickClass="platfom-baseinfo-more-toggleclick")},mouseOver:function(){this.baseInfoData.clickClass="platfom-baseinfo-more-toggleclick"},mouseOut:function(){this.changeBaseInfoFlag?this.baseInfoData.clickClass="platfom-baseinfo-more-click":this.baseInfoData.clickClass="platfom-baseinfo-more-toggleclick"}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"platformComponentBottomleft"},[a("el-row",{staticClass:"platform-title"},[a("span",{staticClass:"platfom-title-font"},[t._v(t._s(t.platformBottomLeftList.title))]),t._v(" "),a("a",{class:["platfom-baseinfo-more-base",t.baseInfoData.clickClass],on:{mouseup:function(e){t.changeBaseInfoItems()},mouseover:function(e){t.mouseOver()},mouseout:function(e){t.mouseOut()}}})]),t._v(" "),a("el-row",{staticClass:"platform-body"},[a("basic-bar-chart-component",{attrs:{basicBarChartRslt:t.bottomLeftChartRslt}})],1)],1)},staticRenderFns:[]};var x=a("VU/8")(g,y,!1,function(t){a("2F4e")},null,null).exports,D=a("mvHQ"),L=a.n(D),P={name:"platformComponentBottomcenter",props:["platformBottomCenterList"],components:{BasicLineChart:f},data:function(){return{getPlatformLocationUrl:C.b.rootUrl+C.b.GetPlatformLocation,locationData:{seriesDataInit:[],checkedseriesData:[]},legenddata:[],xAxisdata:[],seriesdata:[],overClass:"platfom-location-configure-out",dialogVisible:!1}},computed:{bottomCenterChartRslt:function(){return{idName:"platform-bottom-center",legenddata:this.legenddata,xAxisdata:this.xAxisdata,yAxis:{min:0,max:25e4,interval:5e4},seriesdata:this.seriesdata}}},mounted:function(){this.GetPlatformLocation()},methods:{GetPlatformLocation:function(){var t=this;d.q.setItem(C.b.ctrlId,""),d.a.axiosGet(this.getPlatformLocationUrl).then(function(e){var a={legenddata:[],xAxisdata:[],seriesData:[]},s=!0,r=!1,i=void 0;try{for(var n,l=o()(e.data);!(s=(n=l.next()).done);s=!0){var c=n.value;a.xAxisdata.indexOf(c.Hour)<0&&a.xAxisdata.push(c.Hour);var m=-1;for(var f in a.seriesData)if(a.seriesData[f].nameReal==c.Name){m=f;break}var h=Object(d.j)(c.Name,6);m>=0?a.seriesData[m].data.push(c.PlocCnt):(a.legenddata.push(h),a.seriesData.push({nameReal:c.Name,name:h,type:"line",data:[c.PlocCnt],smooth:!0}))}}catch(t){r=!0,i=t}finally{try{!s&&l.return&&l.return()}finally{if(r)throw i}}t.xAxisdata=a.xAxisdata,t.seriesdata=a.seriesData.slice(0,5),t.legenddata=a.legenddata.slice(0,5),t.locationData.seriesDataInit=a.seriesData,d.q.setItem(C.b.SessionPlatformLocation,L()(a.seriesData)),t.locationData.checkedseriesData=a.legenddata.slice(0,5)}).catch()},displayDialog:function(){this.dialogVisible=!0},mouseOver:function(){this.overClass="platfom-location-configure-hover"},mouseOut:function(){this.overClass="platfom-location-configure-out"},Save:function(){this.seriesdata=[],this.legenddata=[];var t=!0,e=!1,a=void 0;try{for(var s,r=o()(this.locationData.seriesDataInit);!(t=(s=r.next()).done);t=!0){var i=s.value,n=!0,l=!1,c=void 0;try{for(var m,f=o()(this.locationData.checkedseriesData);!(n=(m=f.next()).done);n=!0){var h=m.value;i.name==h&&(this.seriesdata.push(i),this.legenddata.push(h))}}catch(t){l=!0,c=t}finally{try{!n&&f.return&&f.return()}finally{if(l)throw c}}}}catch(t){e=!0,a=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw a}}this.dialogVisible=!1},checkSeriesData:function(t){this.$message({message:"最多选择5项接入平台 ！",type:"warning"})}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"platformComponentBottomcenter"},[a("el-row",{staticClass:"platform-title"},[a("span",{staticClass:"platfom-title-font"},[t._v(t._s(t.platformBottomCenterList.title))]),t._v(" "),a("a",{class:["platfom-location-configure",t.overClass],on:{mouseup:function(e){t.displayDialog()},mouseover:function(e){t.mouseOver()},mouseout:function(e){t.mouseOut()}}})]),t._v(" "),a("el-row",{staticClass:"platform-body"},[a("basic-line-chart",{attrs:{basicLineChartRslt:t.bottomCenterChartRslt}})],1),t._v(" "),a("el-dialog",{staticClass:"bottom-center-dialog",attrs:{title:"定位数据显示配置",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("p",{staticClass:"bottom-center-dialog-p"},[t._v("最多选择5项")]),t._v(" "),a("el-checkbox-group",{staticClass:"bottom-center-checkbox-group",attrs:{min:1,max:5},on:{change:function(e){t.checkSeriesData()}},model:{value:t.locationData.checkedseriesData,callback:function(e){t.$set(t.locationData,"checkedseriesData",e)},expression:"locationData.checkedseriesData"}},t._l(t.locationData.seriesDataInit,function(e,s){return a("el-row",{key:s},[a("el-checkbox",{attrs:{label:e.name}},[t._v(t._s(e.nameReal))])],1)})),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Save()}}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var _=a("VU/8")(P,w,!1,function(t){a("ElHe")},null,null).exports,A={name:"transferChartComponent",props:["transferPlatformEcharts"],data:function(){return{transferPlatformRslt:this.transferPlatformEcharts}},watch:{transferPlatformEcharts:function(t){this.transferPlatformRslt=t,this.drawTransferChart()}},mounted:function(){this.drawTransferChart()},methods:{drawTransferChart:function(){var t=l.init(document.getElementById(this.transferPlatformRslt.idName)),e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"center",y:"30",itemGap:12,data:["无效数据","速度值超范围","限速值超范围","飘移"],textStyle:{color:"#fff"},selectedMode:!1},color:["#8EFEFF","#3882ED","#64D5EE","#1FC5EC"],grid:{borderWidth:0,containLabel:!0},xAxis:[{type:"value",position:"top",splitLine:{show:!1},axisLabel:{show:!1},axisLine:{show:!1}}],yAxis:[{type:"category",splitLine:{show:!1},axisLine:{show:!1},data:this.transferPlatformRslt.yAxisData,axisLabel:{textStyle:{color:"#FFF"}},axisTick:{show:!1}}],series:[{name:"无效数据",type:"bar",stack:"总量",data:this.transferPlatformRslt.seriesData0,itemStyle:{normal:{label:{show:!0,position:"insideRight",textStyle:{color:"#FFF"}},barBorderRadius:[5,5,5,5]}}},{name:"速度值超范围",type:"bar",stack:"总量",data:this.transferPlatformRslt.seriesData1,itemStyle:{normal:{label:{show:!0,position:"insideLeft",textStyle:{color:"#FFF"}},barBorderRadius:[5,5,5,5]}}},{name:"限速值超范围",type:"bar",stack:"总量",data:this.transferPlatformRslt.seriesData2,itemStyle:{normal:{label:{show:!0,position:"insideLeft",textStyle:{color:"#FFF"}},barBorderRadius:[5,5,5,5]}}},{name:"飘移",type:"bar",stack:"总量",data:this.transferPlatformRslt.seriesData3,itemStyle:{normal:{label:{show:!0,position:"insideLeft",textStyle:{color:"#FFF"}},barBorderRadius:[5,5,5,5]}}}]};t.setOption(e),t.resize()}}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-row",{staticClass:"transferChartComponent"},[e("div",{class:["transferChartComponent-Echarts",this.transferPlatformRslt.displayAllItems],attrs:{id:this.transferPlatformRslt.idName}})])},staticRenderFns:[]};var I={name:"platformComponentBottomright",props:["platformBottomRightList"],components:{TransferChartComponent:a("VU/8")(A,T,!1,function(t){a("b9Pp")},null,null).exports},data:function(){return{getPlatformTransferUrl:C.b.rootUrl+C.b.GetPlatformTransfer,changeTransferFlag:!1,transferData:{yAxisData:[],seriesData0:[],seriesData1:[],seriesData2:[],seriesData3:[],displayAllItems:"",clickClass:""},yAxisData:[],seriesData0:[],seriesData1:[],seriesData2:[],seriesData3:[]}},computed:{bottomRightChartRslt:function(){return{idName:"platform-bottom-right",yAxisData:this.yAxisData,seriesData0:this.seriesData0,seriesData1:this.seriesData1,seriesData2:this.seriesData2,seriesData3:this.seriesData3,displayAllItems:this.transferData.displayAllItems}}},mounted:function(){this.GetPlatformTransfer()},methods:{GetPlatformTransfer:function(){var t=this;d.q.setItem(C.b.ctrlId,""),d.a.axiosGet(this.getPlatformTransferUrl).then(function(e){var a=[],s=!0,r=!1,i=void 0;try{for(var n,l=o()(e.data);!(s=(n=l.next()).done);s=!0){var c=n.value;a.push({name:Object(d.j)(c.Name,4),value:[c.InvalidPosition,c.OverSpeedCnt,c.OverLimitSpeed,c.DraftCNT],total:c.PlocCnt,abnormalTotal:c.InvalidPosition+c.OverSpeedCnt+c.OverLimitSpeed+c.DraftCNT})}}catch(t){r=!0,i=t}finally{try{!s&&l.return&&l.return()}finally{if(r)throw i}}a.sort(function(t,e){return e.abnormalTotal-t.abnormalTotal});var m=!0,f=!1,h=void 0;try{for(var p,u=o()(a);!(m=(p=u.next()).done);m=!0){var C=p.value;t.transferData.yAxisData.push(C.name);var v=[0,0,0,0];0!=C.total&&(v[0]=(C.value[0]/C.total*100).toFixed(2),v[1]=(C.value[1]/C.total*100).toFixed(2),v[2]=(C.value[2]/C.total*100).toFixed(2),v[3]=(C.value[3]/C.total*100).toFixed(2)),t.transferData.seriesData0.push(v[0]),t.transferData.seriesData1.push(v[1]),t.transferData.seriesData2.push(v[2]),t.transferData.seriesData3.push(v[3])}}catch(t){f=!0,h=t}finally{try{!m&&u.return&&u.return()}finally{if(f)throw h}}t.changeTranferMoreItems()}).catch()},changeTranferMoreItems:function(){this.changeTransferFlag||this.transferData.yAxisData.length<=6?(this.yAxisData=this.transferData.yAxisData,this.seriesData0=this.transferData.seriesData0,this.seriesData1=this.transferData.seriesData1,this.seriesData2=this.transferData.seriesData2,this.seriesData3=this.transferData.seriesData3,this.transferData.displayAllItems=""):(this.yAxisData=this.transferData.yAxisData.slice(0,5),this.yAxisData.push("其他"),this.seriesData0=Object(d.k)(5,this.transferData.seriesData0),this.seriesData1=Object(d.k)(5,this.transferData.seriesData1),this.seriesData2=Object(d.k)(5,this.transferData.seriesData2),this.seriesData3=Object(d.k)(5,this.transferData.seriesData3),this.transferData.displayAllItems="displayAllItems"),this.changeTransferFlag=!this.changeTransferFlag,"platfom-baseinfo-more-click"!=this.transferData.clickClass?this.transferData.clickClass="platfom-baseinfo-more-click":this.transferData.clickClass="platfom-baseinfo-more-toggleclick",this.changeTransferFlag||(this.transferData.clickClass="platfom-baseinfo-more-toggleclick")},mouseOver:function(){this.transferData.clickClass="platfom-baseinfo-more-toggleclick"},mouseOut:function(){this.changeTransferFlag?this.transferData.clickClass="platfom-baseinfo-more-click":this.transferData.clickClass="platfom-baseinfo-more-toggleclick"}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"platformComponentBottomright"},[a("el-row",{staticClass:"platform-title"},[a("span",{staticClass:"platfom-title-font"},[t._v(t._s(t.platformBottomRightList.title))]),t._v(" "),a("a",{class:["platfom-baseinfo-more-base",t.transferData.clickClass],on:{mouseup:function(e){t.changeTranferMoreItems()},mouseover:function(e){t.mouseOver()},mouseout:function(e){t.mouseOut()}}})]),t._v(" "),a("el-row",{staticClass:"platform-body"},[a("transfer-chart-component",{attrs:{transferPlatformEcharts:t.bottomRightChartRslt}})],1)],1)},staticRenderFns:[]};var N={name:"Platform-Index",components:{PlatformComponentsTopleft:n,PlatformComponentsTopright:k,PlatformComponentBottomleft:x,PlatformComponentBottomcenter:_,PlatformComponentBottomright:a("VU/8")(I,S,!1,function(t){a("Amca")},null,null).exports},data:function(){return{getPlatformListUrl:C.b.rootUrl+C.b.GetPlatformList,getPlatformLinkTotalUrl:C.b.rootUrl+C.b.GetPlatformLinkTotal,platformTopLeftList:{title:"接入平台链接情况",items:[],total:0,seriesdata1:0,seriesdata2:0},platformTopRightList:{title:"接入平台报警与定位"},platformBottomLeftList:{title:"接入平台基本信息"},platformBottomCenterList:{title:"接入平台定位数据"},platformBottomRightList:{title:"接入平台数据传输质量"}}},computed:{pieEcharts:function(){return{routerLink:"/Home/PlatformCheck",idName:"platform-top-left",titleName:"接入平台总数:"+this.platformTopLeftList.total,legendOrient:"horizontal",legendX:"center",legendY:"top",color:["#3dbeef","#0056c0"],data:["正常在线平台数","从链路断线数"],seriesName:"接入平台链接情况",radius:["45%","70%"],seriesdata:[{value:this.platformTopLeftList.seriesdata1,name:"正常在线平台数",selected:!0},{value:this.platformTopLeftList.seriesdata2,name:"从链路断线数",selected:!0}]}}},mounted:function(){this.GetPlatformList(),this.GetPlatformLinkTotal()},methods:{GetPlatformList:function(){var t=this;d.q.setItem(C.b.ctrlId,""),d.a.axiosGet(this.getPlatformListUrl).then(function(e){var a=!0,s=!1,r=void 0;try{for(var i,n=o()(e.data);!(a=(i=n.next()).done);a=!0){var l=i.value;t.platformTopLeftList.items.push({connectStatus:t.getPlatformListColor(l.MainLink,l.SubordinateLink),linkName:l.Name,titleName:l.status})}}catch(t){s=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(s)throw r}}}).catch()},GetPlatformLinkTotal:function(){var t=this;d.q.setItem(C.b.ctrlId,""),d.a.axiosGet(this.getPlatformLinkTotalUrl).then(function(e){t.platformTopLeftList.total=e.data[0].PlatformCNT,t.platformTopLeftList.seriesdata1=e.data[0].ONLINECNT,t.platformTopLeftList.seriesdata2=e.data[0].SubLinkOFFLINECNT}).catch()},getPlatformListColor:function(t,e){return 1==t&&1==e?"connect":0==t&&0==e?"disconnect":1==t&&0==e?"mainconnect":0==t&&1==e?"subordinateconnect":void 0}},created:function(){var t=JSON.parse(d.q.getItem("breadNavs"));this.$emit("viewIn",t)}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"platform-index"},[a("el-row",{staticClass:"platform-row-top"},[a("el-col",{staticClass:"platform-col",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("platform-components-topleft",{attrs:{platformTopLeftList:t.platformTopLeftList,pieEcharts:t.pieEcharts}})],1),t._v(" "),a("el-col",{staticClass:"platform-col",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("platform-components-topright",{attrs:{platformTopRightList:t.platformTopRightList}})],1)],1),t._v(" "),a("el-row",{staticClass:"platform-row-bottom"},[a("el-col",{staticClass:"platform-col",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("platform-component-bottomleft",{attrs:{platformBottomLeftList:t.platformBottomLeftList}})],1),t._v(" "),a("el-col",{staticClass:"platform-col",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("platform-component-bottomcenter",{attrs:{platformBottomCenterList:t.platformBottomCenterList}})],1),t._v(" "),a("el-col",{staticClass:"platform-col",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("platform-component-bottomright",{attrs:{platformBottomRightList:t.platformBottomRightList}})],1)],1)],1)},staticRenderFns:[]};var F=a("VU/8")(N,R,!1,function(t){a("rPD5")},null,null);e.default=F.exports},UmK3:function(t,e){},Zc3r:function(t,e){},b9Pp:function(t,e){},lNJI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("BO1k"),o=a.n(s),r=a("BO8i"),i=a("Bodc"),n=a("ExBJ"),l=a("Tc9D"),c=a("r45F"),m=a("F+jZ"),f=a("L2rX"),h={name:"PlatformCheck",components:{InputComponent:r.a,SelectComponent:i.a,CheckboxComponent:n.a,SingleChkboxComponent:l.a,ButtonComponent:c.a},data:function(){return{chkInfoName:"first",modelName:"serverList",companychecksentry_question:"",companychecksentry_answer:"",companychecksentry_info_content:"",platformCheck:{checkServerList:[],checkServerListChecked:[],checkServerListCheckAllFlag:!1,checkServerListCheckAll:[],checkisIndeterminate:!0,sendMsgServerList:[],sendMsgServerListChecked:[],sendMsgServerListCheckAllFlag:!1,sendMsgServerListCheckAll:[],sendMsgisIndeterminate:!0}}},mounted:function(){var t=this.initplatformData();this.platformCheck.checkServerList=t.initData,this.platformCheck.sendMsgServerList=t.initData,this.platformCheck.checkServerListCheckAll=t.nameArr,this.platformCheck.sendMsgServerListCheckAll=t.nameArr},methods:{initplatformData:function(){var t=JSON.parse(m.q.getItem(f.b.SessionPlatformLocation)),e=[],a=!0,s=!1,r=void 0;try{for(var i,n=o()(t);!(a=(i=n.next()).done);a=!0){var l=i.value;e.push(l.nameReal)}}catch(t){s=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(s)throw r}}return{initData:t,nameArr:e}},handleCheckAllCheckChange:function(t){this.platformCheck.checkisIndeterminate=!1,this.platformCheck.checkServerListChecked=t?this.platformCheck.checkServerListCheckAll:[]},handleCheckAllSendMsgChange:function(t){this.platformCheck.sendMsgisIndeterminate=!1,this.platformCheck.sendMsgServerListChecked=t?this.platformCheck.sendMsgServerListCheckAll:[]}},created:function(){var t=JSON.parse(m.q.getItem("breadNavs"));t.splice(1,0,{toName:"接入平台监管",toNav:{path:"/Home/Platform"}}),this.$emit("viewIn",t)}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"superviseCheckSentry"},[a("el-tabs",{staticClass:"supervise-tabs",model:{value:t.chkInfoName,callback:function(e){t.chkInfoName=e},expression:"chkInfoName"}},[a("el-tab-pane",{staticClass:"supervise-tabs-pane",attrs:{label:"查岗",name:"first"}},[a("el-row",{staticClass:"supervise-top"},[a("el-tabs",{model:{value:t.modelName,callback:function(e){t.modelName=e},expression:"modelName"}},[a("el-tab-pane",{attrs:{label:"服务商列表",name:"serverList"}},[a("el-row",{staticClass:"check-search"},[a("el-checkbox",{staticClass:"platform-check-check",attrs:{indeterminate:t.platformCheck.checkisIndeterminate},on:{change:t.handleCheckAllCheckChange},model:{value:t.platformCheck.checkServerListCheckAllFlag,callback:function(e){t.$set(t.platformCheck,"checkServerListCheckAllFlag",e)},expression:"platformCheck.checkServerListCheckAllFlag"}},[t._v("全选")])],1),t._v(" "),a("el-row",{staticClass:"check-content"},[a("el-checkbox-group",{staticClass:"platform-check-check",model:{value:t.platformCheck.checkServerListChecked,callback:function(e){t.$set(t.platformCheck,"checkServerListChecked",e)},expression:"platformCheck.checkServerListChecked"}},t._l(t.platformCheck.checkServerList,function(e,s){return a("el-col",{key:s,staticClass:"check-content-col",attrs:{span:6}},[a("el-checkbox",{attrs:{label:e.nameReal}},[t._v(t._s(e.nameReal))])],1)}))],1)],1)],1)],1),t._v(" "),a("el-row",{staticClass:"supervise-bottom"},[a("h5",{staticClass:"companychecksentry-content-top-head"},[t._v("操作")]),t._v(" "),a("el-row",[a("el-input",{staticClass:"question-input",attrs:{type:"textarea",rows:2,placeholder:""},model:{value:t.companychecksentry_question,callback:function(e){t.companychecksentry_question=e},expression:"companychecksentry_question"}})],1),t._v(" "),a("el-row",[a("el-input",{staticClass:"answer-input",attrs:{type:"textarea",rows:4,placeholder:""},model:{value:t.companychecksentry_answer,callback:function(e){t.companychecksentry_answer=e},expression:"companychecksentry_answer"}})],1),t._v(" "),a("el-row",{staticClass:"supervise-button"},[a("button-component",{attrs:{btnName:"查岗"}}),t._v(" "),a("button-component",{attrs:{btnName:"问题切换"}})],1)],1)],1),t._v(" "),a("el-tab-pane",{staticClass:"supervise-tabs-pane",attrs:{label:"发布信息",name:"second"}},[a("el-row",{staticClass:"supervise-top"},[a("el-tabs",{model:{value:t.modelName,callback:function(e){t.modelName=e},expression:"modelName"}},[a("el-tab-pane",{attrs:{label:"服务商列表",name:"serverList"}},[a("el-row",{staticClass:"check-search"},[a("el-checkbox",{staticClass:"platform-check-sendmsg",attrs:{indeterminate:t.platformCheck.sendMsgisIndeterminate},on:{change:t.handleCheckAllSendMsgChange},model:{value:t.platformCheck.checkServerListCheckAllFlag,callback:function(e){t.$set(t.platformCheck,"checkServerListCheckAllFlag",e)},expression:"platformCheck.checkServerListCheckAllFlag"}},[t._v("全选")])],1),t._v(" "),a("el-row",{staticClass:"check-content"},[a("el-checkbox-group",{staticClass:"platform-check-sendmsg",model:{value:t.platformCheck.sendMsgServerListChecked,callback:function(e){t.$set(t.platformCheck,"sendMsgServerListChecked",e)},expression:"platformCheck.sendMsgServerListChecked"}},t._l(t.platformCheck.sendMsgServerList,function(e,s){return a("el-col",{key:s,staticClass:"check-content-col",attrs:{span:6}},[a("el-checkbox",{attrs:{label:e.nameReal}},[t._v(t._s(e.nameReal))])],1)}))],1)],1)],1)],1),t._v(" "),a("el-row",{staticClass:"supervise-bottom"},[a("h5",{staticClass:"companychecksentry-content-top-head"},[t._v("操作")]),t._v(" "),a("el-input",{staticClass:"question-input",attrs:{type:"textarea",rows:6,placeholder:"信息内容长度不得超过1024个字符"},model:{value:t.companychecksentry_info_content,callback:function(e){t.companychecksentry_info_content=e},expression:"companychecksentry_info_content"}}),t._v(" "),a("el-row",{staticClass:"supervise-button"},[a("button-component",{attrs:{btnName:"发送"}}),t._v(" "),a("button-component",{attrs:{btnName:"重置"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(h,p,!1,function(t){a("Zc3r")},null,null);e.default=u.exports},rPD5:function(t,e){},vApT:function(t,e){},xcLt:function(t,e,a){"use strict";var s=a("XLwt"),o={name:"barPlatformComponent",props:["basicBarChartRslt"],components:{},data:function(){return{barPlatformRslt:this.basicBarChartRslt}},watch:{basicBarChartRslt:function(t){this.barPlatformRslt=t,this.drawLine()}},mounted:function(){this.drawLine()},methods:{drawLine:function(){var t=s.init(document.getElementById(this.barPlatformRslt.idName)),e={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:this.barPlatformRslt.legend,calbulable:!1,color:["rgb(2,244,245)","rgb(142,254,245)"],grid:{borderWidth:0,y:"80",x:"30",x2:"30"},xAxis:{type:"category",data:this.barPlatformRslt.xAxisData,axisLabel:{textStyle:{color:"#fff"}},axisPointer:{type:"shadow"},axisLine:{show:!1}},yAxis:{type:"value",name:"",axisLabel:{formatter:""},splitLine:{show:!1},show:!1},series:this.barPlatformRslt.seriesdata};t.setOption(e),t.resize()}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"basicBarChartComponent"},[e("div",{class:["basicBarChartComponent-Echarts",this.barPlatformRslt.displayAllItems],attrs:{id:this.barPlatformRslt.idName}})])},staticRenderFns:[]};var i=a("VU/8")(o,r,!1,function(t){a("UmK3")},null,null);e.a=i.exports}});
//# sourceMappingURL=Platform.bbf1d352b69e7f36b939.js.map